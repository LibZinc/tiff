INCLUDE( CheckFunctionExists )
INCLUDE( CheckIncludeFile )
INCLUDE( CheckIncludeFiles )
INCLUDE( CheckSymbolExists )
INCLUDE( CheckCCompilerFlag )
INCLUDE( CheckLibraryExists )
INCLUDE( CheckTypeSize )
INCLUDE( TestBigEndian )
INCLUDE( FindThreads )

CHECK_INCLUDE_FILE( assert.h HAVE_ASSERT_H )
CHECK_INCLUDE_FILE( dlfcn.h HAVE_DLFCN_H )
CHECK_INCLUDE_FILE( fcntl.h HAVE_FCNTL_H )
CHECK_INCLUDE_FILE( ieeefp.h HAVE_IEEEFP )
CHECK_INCLUDE_FILE( inttypes.h HAVE_INTTYPES_H )
CHECK_INCLUDE_FILE( limits.h HAVE_LIMITS_H )
CHECK_INCLUDE_FILE( malloc.h HAVE_MALLOC_H )
CHECK_INCLUDE_FILE( memory.h HAVE_MEMORY_H )
CHECK_INCLUDE_FILE( search.h HAVE_SEARCH_H )
CHECK_INCLUDE_FILE( stdint.h HAVE_STDINT_H )
CHECK_INCLUDE_FILE( stdlib.h HAVE_STDLIB_H )
CHECK_INCLUDE_FILE( strings.h HAVE_STRINGS_H )
CHECK_INCLUDE_FILE( string.h HAVE_STRING_H )
CHECK_INCLUDE_FILE( sys/stat.h HAVE_SYS_STAT_H )
CHECK_INCLUDE_FILE( sys/time.h HAVE_SYS_TIME_H )
CHECK_INCLUDE_FILE( sys/types.h HAVE_SYS_TYPES_H )
CHECK_INCLUDE_FILE( unistd.h HAVE_UNISTD_H )
CHECK_INCLUDE_FILE( windows.h HAVE_WINDOWS_H )
CHECK_FUNCTION_EXISTS( floor HAVE_FLOOR )
CHECK_FUNCTION_EXISTS( getopt HAVE_GETOPT )
CHECK_FUNCTION_EXISTS( isascii HAVE_ISASCII )
CHECK_FUNCTION_EXISTS( lfind HAVE_LFIND )
CHECK_FUNCTION_EXISTS( memmove HAVE_MEMMOVE )
CHECK_FUNCTION_EXISTS( memset HAVE_MEMSET )
CHECK_FUNCTION_EXISTS( mmap HAVE_MMAP )
CHECK_FUNCTION_EXISTS( pow HAVE_POW )
CHECK_FUNCTION_EXISTS( sqrt HAVE_SQRT )
CHECK_FUNCTION_EXISTS( strcasecmp HAVE_STRCASECMP )
CHECK_FUNCTION_EXISTS( strchr HAVE_STRCHR )
CHECK_FUNCTION_EXISTS( strrchr HAVE_STRRCHR )
CHECK_FUNCTION_EXISTS( strstr HAVE_STRSTR )
CHECK_FUNCTION_EXISTS( strtol HAVE_STRTOL )
CHECK_FUNCTION_EXISTS( strtoul HAVE_STRTOUL )

CHECK_TYPE_SIZE( int8 HAVE_INT8 )
CHECK_TYPE_SIZE( int16 HAVE_INT16 )
CHECK_TYPE_SIZE( int32 HAVE_INT32 )
CHECK_TYPE_SIZE( int SIZEOF_INT )
CHECK_TYPE_SIZE( long SIZEOF_LONG )
TEST_BIG_ENDIAN( WORDS_BIGENDIAN )
SET( HOST_BIGENDIAN ${WORDS_BIGENDIAN} )

CHECK_INCLUDE_FILES( "dlfcn.h;stdint.h;stddef.h;inttypes.h;stdlib.h;strings.h;string.h;float.h" StandardHeadersExist )
IF( StandardHeadersExist )
        CHECK_SYMBOL_EXISTS( memchr string.h memchrExists )
        IF( memchrExists )
                CHECK_SYMBOL_EXISTS( free stdlib.h STDC_HEADERS )
        ENDIF( memchrExists )
ENDIF( StandardHeadersExist )

CHECK_TYPE_SIZE( off_t SIZEOF_OFF_T )
IF( NOT SIZEOF_OFF_T )
        SET( off_t "long int" )
ENDIF( NOT SIZEOF_OFF_T )
CHECK_TYPE_SIZE( size_t SIZEOF_SIZE_T )
IF( NOT SIZEOF_SIZE_T )
        SET( size_t int )
ENDIF( NOT SIZEOF_SIZE_T )

IF( HAVE_SYS_TIME_H )
        CHECK_INCLUDE_FILES( "sys/time.h;time.h" TIME_WITH_SYS_TIME )
ENDIF( HAVE_SYS_TIME_H )
CHECK_SYMBOL_EXISTS( "struct tm" sys/time.h TM_IN_SYS_TIME )

IF( WIN32 )
	SET( WINDOWS_LEAN_AND_MEAN TRUE )
	SET( USE_WIN32_FILEIO TRUE )
ENDIF( WIN32 )

CHECK_C_COMPILER_FLAG( "-c -o" HAVE_MINUS_C_MINUS_O )
IF( NOT HAVE_MINUS_C_MINUS_O )
	SET( NO_MINUS_C_MINUS_O 1 )
ENDIF( NOT HAVE_MINUS_C_MINUS_O )

SET( HAVE_PTHREAD ${CMAKE_USE_PTHREADS_INIT} )

#CHECK_LIBRARY_EXISTS( c c_function "" HAVE_LIBC )
#CHECK_LIBRARY_EXISTS( m m_function "" HAVE_LIBM )
SET( HAVE_LIBC 1 )
SET( HAVE_LIBM 1 )
#SET( const 0 )
#SET( inline 0 )

SET( HOST_FILLORDER FILLORDER_MSB2LSB )
SET( CCITT_SUPPORT 1 )
SET( JPEG_SUPPORT 1 )
SET( LOGLUV_SUPPORT 1 )
SET( LZW_SUPPORT 1 )
SET( NEXT_SUPPORT 1 )
SET( OJPEG_SUPPORT 0 )
SET( PACKBITS_SUPPORT 1 )
SET( PIXARLOG_SUPPORT 1 )
SET( THUNDER_SUPPORT 1 )
SET( ZIP_SUPPORT 1 )
SET( STRIPCHOP_DEFAULT TIFF_STRIPCHOP )
SET( SUBIFD_SUPPORT 1 )
SET( DEFAULT_EXTRASAMPLE_AS_ALPHA 1 )
SET( CHECK_JPEG_YCBCR_SUBSAMPLING 1 )
SET( MDI_SUPPORT 1 )
SET( _FILE_OFFSET_BITS 0 )
SET( _LARGE_FILES 0 )
SET( X_DISPLAY_MISSING 0 )
SET( STRIP_SIZE_DEFAULT 8192 )
SET( PTHREAD_CREATE_JOINABLE 0 )
SET( LT_OBJDIR \"\" )
SET( CXX_SUPPORT 1 )
IF( APPLE )
	SET( HAVE_APPLE_OPENGL_FRAMEWORK 0 )
ELSE( APPLE )
	SET( HAVE_APPLE_OPENGL_FRAMEWORK 1 )
ENDIF( APPLE )

